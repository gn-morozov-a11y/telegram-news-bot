import feedparser
import time
import os
from telegram import Bot

TOKEN = os.getenv("TOKEN")
CHANNEL = os.getenv("CHANNEL")

bot = Bot(token=TOKEN)

posted_links = set()

while True:
    feed = feedparser.parse("https://news.google.com/rss?hl=ru&gl=RU&ceid=RU:ru")

    for entry in feed.entries[:5]:
        if entry.link not in posted_links:
            text = f"ðŸ“° {entry.title}\n\n{entry.link}"
            bot.send_message(chat_id=CHANNEL, text=text)
            posted_links.add(entry.link)

    time.sleep(1800)  # 30 Ð¼Ð¸Ð½ÑƒÑ‚
